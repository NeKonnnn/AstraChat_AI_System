# Локальная конфигурация llm-svc для запуска вне Docker (Windows)
# Используется при запуске через start_with_llm_svc.bat

# Конфигурация сервера
server:
  host: "127.0.0.1"  # Локальный запуск
  port: 8001  # Порт для локального запуска
  log_level: "INFO"
  docs_url: "/docs"
  redoc_url: "/redoc"

# Настройки CORS для интеграции с astrachat
cors:
  allowed_origins:
    - "http://localhost:3000"    # React dev server
    - "http://localhost:8000"    # astrachat backend
    - "http://127.0.0.1:3000"
    - "http://127.0.0.1:8000"
  allow_credentials: true
  allow_methods: ["*"]
  allow_headers: ["*"]

# Настройки модели LLM
# ВАЖНО: Пути для Windows (не Docker)
model:
  # Путь к модели на вашей Windows системе
  path: "F:/memo_new_api/models/QVikhr-2.5-1.5B-Instruct-SMPO-Q8_0.gguf"
  # Альтернативно можно использовать:
  path: "F:/memo_new_api/models/Qwen3-Coder-30B-A3B-Instruct-Q8_0.gguf"
  
  name: "qvikhr-1.5b"
  name: "qwen-coder-30b"
  ctx_size: 4096
  gpu_layers: -1  # Используются все слои на GPU
  verbose: false

# Настройки генерации
generation:
  default_temperature: 0.7
  default_max_tokens: 1024
  stream: true

# Настройки приложения
app:
  title: "astrachat AI Models Service (Local)"
  description: "Unified AI service for LLM, Speech Recognition and Text-to-Speech"
  version: "1.0.0"

# Настройки мониторинга
monitoring:
  enabled: false
  prometheus_port: 9090
  metrics_path: "/metrics"

# Настройки логирования
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: null
  max_size: 10485760  # 10MB
  backup_count: 5

# Настройки кэширования
caching:
  enabled: true
  ttl: 300  # Время жизни кэша в секундах
  max_size: 1000  # Максимальное количество элементов в кэше

# Настройки безопасности
security:
  enabled: false  # Отключено для локальной разработки
  api_key: null
  api_key_header: "X-API-Key"

# Настройки Vosk (распознавание речи)
vosk:
  enabled: true
  model_path: "F:/memo_new_api/model_small"  # Локальный путь Windows
  sample_rate: 16000
  max_file_size: 52428800  # 50MB
  supported_languages:
    - "ru"
    - "en"

# Настройки Silero (синтез речи)
silero:
  enabled: true
  models_dir: "F:/memo_new_api/silero_models"  # Локальный путь Windows
  sample_rate: 48000
  max_text_length: 5000
  supported_languages:
    - "ru"
    - "en"
  supported_speakers:
    ru:
      - "baya"
      - "kseniya"
      - "xenia"
      - "eugene"
      - "aidar"
    en:
      - "v3_en"

# Настройки WhisperX (продвинутая транскрипция)
whisperx:
  enabled: true
  models_dir: "F:/memo_new_api/whisperx_models"  # Локальный путь Windows
  device: "auto"  # auto, cpu, cuda
  compute_type: "float16"  # float16, int8, int8_float16
  language: "ru"
  batch_size: 16
  max_file_size: 104857600  # 100MB
  supported_languages:
    - "ru"
    - "en"
    - "auto"

# Настройки диаризации (разделение по спикерам)
diarization:
  enabled: true
  models_dir: "F:/memo_new_api/diarize_models"  # Локальный путь Windows
  config_path: "F:/memo_new_api/diarize_models/pyannote_diarization_config.yaml"
  device: "auto"  # auto, cpu, cuda
  min_speakers: 1
  max_speakers: 10
  min_duration: 1.0  # секунды
  max_file_size: 104857600  # 100MB

# Настройки Surya OCR (распознавание текста с изображений)
surya:
  enabled: true
  models_dir: "F:/memo_new_api/models/surya"  # Локальный путь Windows
  device: "auto"  # auto, cpu, cuda
  max_file_size: 52428800  # 50MB
  supported_languages:
    - "ru"
    - "en"
    - "hi"
    - "es"
    - "fr"
    - "de"
    - "it"
    - "pt"
    - "vi"
    - "tr"
    - "ar"
    - "zh"
    - "ja"
    - "ko"
    - "th"
    - "ur"
    - "fa"
    - "ta"
    - "te"
    - "ml"
    - "kn"
    - "gu"
    - "pa"
    - "bn"
    - "or"
    - "as"
    - "ne"
    - "mr"
    - "sa"
    - "my"
    - "ka"
    - "si"
    - "km"
    - "lo"
    - "bo"
    - "dz"
    - "ti"
    - "am"
    - "sw"
    - "zu"
    - "xh"
    - "af"
    - "sq"
    - "az"
    - "eu"
    - "be"
    - "bs"
    - "bg"
    - "ca"
    - "hr"
    - "cs"
    - "da"
    - "nl"
    - "et"
    - "fi"
    - "gl"
    - "el"
    - "he"
    - "hu"
    - "is"
    - "id"
    - "ga"
    - "kk"
    - "ky"
    - "lv"
    - "lt"
    - "lb"
    - "mk"
    - "ms"
    - "mt"
    - "mn"
    - "no"
    - "pl"
    - "ro"
    - "sr"
    - "sk"
    - "sl"
    - "sv"
    - "tg"
    - "tk"
    - "uk"
    - "uz"
    - "cy"
    - "yi"
    - "yo"
    - "zu"

# Настройки Nexus (для загрузки моделей из репозитория)
nexus:
  enabled: false
  url: ""
  repo: ""
  name: ""
  id: ""
  version: ""
  file_name: ""
  login: null
  password: null
  cert_path: null
